type LoginResponse {
  access: String!
  refresh: String!
  user: User!
}

type User {
  id: Int!
  username: String!
  email: String!
  first_name: String
  last_name: String
  is_active: Boolean
  date_joined: String!
}

type Query {
  """
  Internal login query to get an access token.
  Uses hardcoded username and password for now.
  TODO: Find proper way to access config values from config.yaml in postbody.
  
  This query is intended to be used in @sequence directives.
  """
  _login: LoginResponse
    @rest(
      method: POST
      endpoint: "https://qnap-jiri.myqnapcloud.com/classic-models/api/auth/login/"
      configuration: "classic_models_auth"
      tls: "classic_models_auth"
      headers: [
        { name: "Content-Type", value: "application/json" }
      ]
      postbody: """
      {
        "username": "demo",
        "password": "demo123"
      }
      """
    )
}

