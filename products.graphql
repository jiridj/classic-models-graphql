type ProductLine {
  productline: String!
  textdescription: String
  htmldescription: String
  image: String
  products: [Product!]
}

type Product {
  productcode: String!
  productname: String!
  productline: String!
  productscale: String!
  productvendor: String!
  productdescription: String!
  quantityinstock: Int!
  buyprice: String!
  msrp: String!
}

type Query {
  """
  Fetch product lines.
  """
  _productLines(token: Secret!): [ProductLine!]!
    @rest(
      endpoint: "https://qnap-jiri.myqnapcloud.com/classic-models/api/v1/productlines/"
      configuration: "classic_models_rest"
      tls: "classic_models_rest"
      headers: [
        { name: "Authorization", value: "Bearer $token" }
      ]
    )

  productLines: [ProductLine!]!
    @sequence(
      steps: [
        { query: "_login" }
        {
          query: "_productLines"
          arguments: [
            { name: "token", field: "ยง0.access" }
          ]
        }
      ]
    )
}
